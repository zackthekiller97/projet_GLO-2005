<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Movie Rater</title>
    <script type="text/javascript" src="../static/infoFilm.js"></script>
</head>
<body onload="ajouterHref()">
<nav>
    <a href="accueil">ACCUEIL</a>
    <a href="rechercher">RECHERCHER</a>
    <a href="monclassement">MON CLASSEMENT</a>
    {% if profile["role"] == "admin" %}
        <a href="ajouter">AJOUTER</a>
    {% endif %}
    <a href="logout">LOGOUT</a>
</nav>
  <p>CLASSEMENT GÉNÉRAL</p>
  <div name="options">
      <a href="accueil">FILMS</a>
      <a href="accueilSeries">SERIES</a>
  </div>
  <div name="filtrer">
      <form action="filtrer" method="post">
      <p>FILTRER PAR :</p>
      <p>NOM FILM : <input type="text" name="nomfilm"></p>
      <label for="genres">GENRE :</label>
      <select name="genres" id="genres">
          <option value="">Tous</option>
          {% for genre in genres %}
            <option value={{genre}}>{{genre}}</option>
          {% endfor %}
      </select>
      <label for="sgenres">SOUS-GENRE :</label>
      <select name="sgenres" id="sgenres">
          <option value="">Tous</option>
          {% for genre in genres %}
            <option value={{genre}}>{{genre}}</option>
          {% endfor %}
      </select>
      <p>ANNEE : <input type="text" name="annee"></p>
      <p>ACTEUR : <input type="text" name="acteur"></p>
      <p>NOMBRE DE VOTES MINIMAL : <input type="text" name="nbvotes" value="0"></p>
      <p>NOTE MINIMALE : <input type="text" name="note" value="0.0"></p>
          <p>SAISON : <input type="text" name="saison"></p>
      <input type="submit" value="FILTRER" name="filtrer">
      </form>
  </div>
  <div name="films">
     <table name="table">
         <thead>
            <tr>
                <th>Position</th>
                <th>Nom du film</th>
                <th>Année</th>
                <th>Genre</th>
                <th>Sous-Genre</th>
                <th>Acteurs</th>
                <th>Nombre de votes</th>
                <th>Note Totale</th>
                <th>Note Moyenne</th>
                {% if type == "series" %}
                    <th>Saison</th>
                {% endif %}
            </tr>
         </thead>
         <tbody>
            {% if table.entries == [] %}
                <p>Aucune données à afficher</p>
            {% else %}
                {% for entry in table.entries %}
                    <tr>
                        {% for value in entry %}
                            {% if loop.index == 1 %}
                                {% if type == "series" %}
                                    <td name="saison">{{value}}</td>
                                {% else %}
                                    <td name="nom">{{value}}</td>
                                {% endif %}
                            {% else %}
                                <td>{{value}}</td>
                            {% endif %}
                        {% endfor %}
                    </tr>
                {% endfor %}
         {% endif %}
         </tbody>
     </table>
  </div>

</body>
</html>